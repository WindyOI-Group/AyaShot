# AyaShot

AyaShot=**A**ya's **S**mart **H**igh-speed **O**lympic-information **T**est-data generator

**風の少女 出题组** 生成测试数据所用的相关常用源码的集合，与洛谷团队的 [Project CYaRon](https://github.com/luogu-dev/cyaron) 相类似。

项目地址：https://github.com/WindyOI-Group/AyaShot 。

---

尽管就这么草草地立项了，但我还是希望成员们可以多多添加好用的代码吧 ![](https://啧.tk/kel) 。

### 已完成

#### 随机数生成器（`random.h`）

目前支持的内容：

- 生成一个 $32$ 位或者 $64$ 位的无符号整型随机数、生成一个在 $[0,1)$ 内的双精度浮点数。
- 生成值域在 $[0,n)$ 内的 $32$ 位整数、$64$ 位整数（包括有符号和无符号）、双精度浮点数。
- 生成值域在 $[l,r]$ 内的 $32$ 位整数、$64$ 位整数（包括有符号和无符号）、双精度浮点数。
- 随机选取一个容器内的数字。
- 为随机数生成器设定一个种子（支持直接输入 $64$ 位无符号种子、输入一个字符串，对于后者会生成它的唯一确定的哈希值作为种子）。

这部分尚未进行完全测试（例如边界情况）。

#### 序列生成器（`polynomial.h`）

目前支持的内容：

- 生成一个储存的内容为 $\textrm{value\_type}$ 的序列（其中 $\textrm{value\_type}$ 目前仅支持使用 $32$ 位或者 $64$ 位的有符号整型）。内部使用 $\textrm{vector}$ 存储，可以直接使用中括号访问其内容。
- 一些 $\text{vector}$ 里支持的操作（向末尾增添元素、弹出末尾元素、判断是否为空、清空整个序列），同时还支持翻转整个序列、对整个序列进行排序、打乱整个序列。
- 生成一个长度为 $n$、每个元素值域在 $[0,n)$ 内的序列（可以设定是否允许重复元素）。
- 生成一个长度为 $n$、每个元素值域在 $[l,r]$ 内的序列（可以设定是否允许重复元素）。
- 从 $m$ 里面选择出 $n$ 个元素作为该序列（支持设定这 $n$ 个元素的最小值）。
- 生成一个长度为 $n$ ，值域为 $[0,n)$ 的排列（本质上是生成不重复的值域在 $[0,n)$ 的长度为 $n$ 的序列的别名）。

#### 随机图生成器（`graph.h`）

目前支持的内容：

- 设定该图为有向图还是无向图。
- 生成一条链或者一朵菊花。
- 生成一个期望树高为 $\log n$ 的随机树。

#### 文件比较器（`compare.h`）

目前支持的内容：

- 比对两个文件是否完全相同，支持 $\text{NOIP}$ 模式（忽略行尾空格和文末换行）和逐字节比对两个模式，也支持自定义新的比较模式）。
- 进行一次或 $n$ 次对拍。

#### 基础数学库（`math.h`）

目前支持的内容：

- 计算两个数字的最大公约数。
- 计算快速幂。

#### 数据文件接口（`fileio.h`）

目前支持的内容：

- 注册三种模式（普通模式、 $\text{Subtask}$ 模式、本地调试用的 $\text{stdout}$ 模式）。
- 向数据文件写入 $32$ 位有符号整型、$32$ 位无符号整型、$64$ 位有符号整型、$64$ 位无符号整型（这四样支持快速输出）、字符类型、C 风格字符串、$\text{string}$ 类型，同时支持自定义新的输出方式。对于所有类型还支持输出后自动换行。
- 支持按照 $b$ 进制的方式输出每种整型。

### TODO-LIST

- 测试当前的随机数生成器是否会存在边界问题。
- 增加生成随机的合法括号序列的功能。
- 增加生成期望直径为 $\sqrt n$ 的随机树的功能。
- 增加生成一个大小为 $n$ 的环的功能。
- 增加一种新的类型的图，支持把原先类型的图通过一些额外的边相连（这样就可以实现类似于毛毛虫、蒲公英之类的相对复杂一点的图）。同时原先类型的图需要支持选定一些点作为关键点，是的新类型图可以根据这些关键点连接旧类型图。
- 增加可以在模意义下进行各种运算的整型（$\text{mod\_int}$）。
- 增加对于随机生成字符串的支持。
